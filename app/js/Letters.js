var letters = {"info":{"size":256,"padding":[2,2,2,2],"spacing":[2,2],"base":205,"line-height":326,"scaleW":4096,"scaleH":4096},"glyphs":{"g-3":{"id":-3,"x":2,"y":2,"width":148,"height":271,"xoffset":4,"yoffset":-12,"xadvance":154,"page":0,"chnl":0,"letter":"ý"},"g-59":{"id":-59,"x":152,"y":2,"width":165,"height":265,"xoffset":5,"yoffset":-59,"xadvance":173,"page":0,"chnl":0,"letter":"Å"},"g-45":{"id":-45,"x":319,"y":2,"width":157,"height":263,"xoffset":14,"yoffset":-54,"xadvance":184,"page":0,"chnl":0,"letter":"Ó"},"g-57":{"id":-57,"x":478,"y":2,"width":157,"height":260,"xoffset":14,"yoffset":20,"xadvance":181,"page":0,"chnl":0,"letter":"Ç"},"g-46":{"id":-46,"x":637,"y":2,"width":157,"height":259,"xoffset":14,"yoffset":-50,"xadvance":184,"page":0,"chnl":0,"letter":"Ò"},"g-44":{"id":-44,"x":796,"y":2,"width":157,"height":259,"xoffset":14,"yoffset":-50,"xadvance":184,"page":0,"chnl":0,"letter":"Ô"},"g106":{"id":106,"x":955,"y":2,"width":65,"height":258,"xoffset":-15,"yoffset":5,"xadvance":64,"page":0,"chnl":0,"letter":"j"},"g-38":{"id":-38,"x":1022,"y":2,"width":141,"height":256,"xoffset":19,"yoffset":-47,"xadvance":177,"page":0,"chnl":0,"letter":"Ú"},"g-55":{"id":-55,"x":1165,"y":2,"width":129,"height":255,"xoffset":21,"yoffset":-50,"xadvance":158,"page":0,"chnl":0,"letter":"É"},"g-63":{"id":-63,"x":1296,"y":2,"width":165,"height":255,"xoffset":5,"yoffset":-50,"xadvance":173,"page":0,"chnl":0,"letter":"Á"},"g-51":{"id":-51,"x":1463,"y":2,"width":101,"height":255,"xoffset":12,"yoffset":-50,"xadvance":117,"page":0,"chnl":0,"letter":"Í"},"g-35":{"id":-35,"x":1566,"y":2,"width":154,"height":254,"xoffset":5,"yoffset":-48,"xadvance":163,"page":0,"chnl":0,"letter":"Ý"},"g-37":{"id":-37,"x":1722,"y":2,"width":141,"height":253,"xoffset":19,"yoffset":-44,"xadvance":177,"page":0,"chnl":0,"letter":"Û"},"g-39":{"id":-39,"x":1865,"y":2,"width":141,"height":253,"xoffset":19,"yoffset":-44,"xadvance":177,"page":0,"chnl":0,"letter":"Ù"},"g-64":{"id":-64,"x":2008,"y":2,"width":165,"height":252,"xoffset":5,"yoffset":-47,"xadvance":173,"page":0,"chnl":0,"letter":"À"},"g-56":{"id":-56,"x":2175,"y":2,"width":129,"height":252,"xoffset":21,"yoffset":-47,"xadvance":158,"page":0,"chnl":0,"letter":"È"},"g-62":{"id":-62,"x":2306,"y":2,"width":165,"height":252,"xoffset":5,"yoffset":-47,"xadvance":173,"page":0,"chnl":0,"letter":"Â"},"g-52":{"id":-52,"x":2473,"y":2,"width":99,"height":252,"xoffset":7,"yoffset":-47,"xadvance":117,"page":0,"chnl":0,"letter":"Ì"},"g-50":{"id":-50,"x":2574,"y":2,"width":95,"height":252,"xoffset":12,"yoffset":-47,"xadvance":117,"page":0,"chnl":0,"letter":"Î"},"g-54":{"id":-54,"x":2671,"y":2,"width":129,"height":252,"xoffset":21,"yoffset":-47,"xadvance":158,"page":0,"chnl":0,"letter":"Ê"},"g103":{"id":103,"x":2802,"y":2,"width":144,"height":246,"xoffset":9,"yoffset":27,"xadvance":156,"page":0,"chnl":0,"letter":"g"},"g36":{"id":36,"x":2948,"y":2,"width":144,"height":246,"xoffset":8,"yoffset":-9,"xadvance":161,"page":0,"chnl":0,"letter":"$"},"g-43":{"id":-43,"x":3094,"y":2,"width":157,"height":246,"xoffset":14,"yoffset":-37,"xadvance":184,"page":0,"chnl":0,"letter":"Õ"},"g-42":{"id":-42,"x":3253,"y":2,"width":157,"height":243,"xoffset":14,"yoffset":-34,"xadvance":184,"page":0,"chnl":0,"letter":"Ö"},"g-47":{"id":-47,"x":3412,"y":2,"width":143,"height":242,"xoffset":21,"yoffset":-36,"xadvance":185,"page":0,"chnl":0,"letter":"Ñ"},"g-2":{"id":-2,"x":3557,"y":2,"width":144,"height":242,"xoffset":20,"yoffset":15,"xadvance":175,"page":0,"chnl":0,"letter":"þ"},"g41":{"id":41,"x":3703,"y":2,"width":80,"height":241,"xoffset":11,"yoffset":12,"xadvance":109,"page":0,"chnl":0,"letter":")"},"g91":{"id":91,"x":3785,"y":2,"width":69,"height":241,"xoffset":24,"yoffset":13,"xadvance":103,"page":0,"chnl":0,"letter":"["},"g93":{"id":93,"x":3856,"y":2,"width":69,"height":241,"xoffset":11,"yoffset":13,"xadvance":103,"page":0,"chnl":0,"letter":"]"},"g125":{"id":125,"x":3927,"y":2,"width":90,"height":241,"xoffset":11,"yoffset":13,"xadvance":107,"page":0,"chnl":0,"letter":"}"},"g123":{"id":123,"x":2,"y":275,"width":90,"height":241,"xoffset":7,"yoffset":13,"xadvance":107,"page":0,"chnl":0,"letter":"{"},"g40":{"id":40,"x":94,"y":275,"width":80,"height":241,"xoffset":19,"yoffset":12,"xadvance":109,"page":0,"chnl":0,"letter":"("},"g-27":{"id":-27,"x":176,"y":275,"width":137,"height":240,"xoffset":12,"yoffset":-30,"xadvance":166,"page":0,"chnl":0,"letter":"å"},"g-61":{"id":-61,"x":315,"y":275,"width":165,"height":239,"xoffset":5,"yoffset":-34,"xadvance":173,"page":0,"chnl":0,"letter":"Ã"},"g-36":{"id":-36,"x":482,"y":275,"width":141,"height":237,"xoffset":19,"yoffset":-28,"xadvance":177,"page":0,"chnl":0,"letter":"Ü"},"g-49":{"id":-49,"x":625,"y":275,"width":95,"height":236,"xoffset":12,"yoffset":-31,"xadvance":117,"page":0,"chnl":0,"letter":"Ï"},"g-60":{"id":-60,"x":722,"y":275,"width":165,"height":236,"xoffset":5,"yoffset":-31,"xadvance":173,"page":0,"chnl":0,"letter":"Ä"},"g-53":{"id":-53,"x":889,"y":275,"width":129,"height":236,"xoffset":21,"yoffset":-31,"xadvance":158,"page":0,"chnl":0,"letter":"Ë"},"g-23":{"id":-23,"x":1020,"y":275,"width":145,"height":228,"xoffset":12,"yoffset":-18,"xadvance":168,"page":0,"chnl":0,"letter":"é"},"g-13":{"id":-13,"x":1167,"y":275,"width":147,"height":228,"xoffset":12,"yoffset":-18,"xadvance":170,"page":0,"chnl":0,"letter":"ó"},"g-31":{"id":-31,"x":1316,"y":275,"width":137,"height":228,"xoffset":12,"yoffset":-18,"xadvance":166,"page":0,"chnl":0,"letter":"á"},"g-25":{"id":-25,"x":1455,"y":275,"width":144,"height":226,"xoffset":12,"yoffset":55,"xadvance":166,"page":0,"chnl":0,"letter":"ç"},"g124":{"id":124,"x":1601,"y":275,"width":25,"height":226,"xoffset":23,"yoffset":5,"xadvance":70,"page":0,"chnl":0,"letter":"|"},"g-12":{"id":-12,"x":1628,"y":275,"width":147,"height":224,"xoffset":12,"yoffset":-15,"xadvance":170,"page":0,"chnl":0,"letter":"ô"},"g-14":{"id":-14,"x":1777,"y":275,"width":147,"height":224,"xoffset":12,"yoffset":-15,"xadvance":170,"page":0,"chnl":0,"letter":"ò"},"g-22":{"id":-22,"x":1926,"y":275,"width":145,"height":224,"xoffset":12,"yoffset":-15,"xadvance":168,"page":0,"chnl":0,"letter":"ê"},"g-24":{"id":-24,"x":2073,"y":275,"width":145,"height":224,"xoffset":12,"yoffset":-15,"xadvance":168,"page":0,"chnl":0,"letter":"è"},"g-30":{"id":-30,"x":2220,"y":275,"width":137,"height":224,"xoffset":12,"yoffset":-15,"xadvance":166,"page":0,"chnl":0,"letter":"â"},"g-32":{"id":-32,"x":2359,"y":275,"width":137,"height":224,"xoffset":12,"yoffset":-15,"xadvance":166,"page":0,"chnl":0,"letter":"à"},"g-19":{"id":-19,"x":2498,"y":275,"width":67,"height":220,"xoffset":20,"yoffset":-14,"xadvance":65,"page":0,"chnl":0,"letter":"í"},"g-6":{"id":-6,"x":2567,"y":275,"width":129,"height":220,"xoffset":18,"yoffset":-12,"xadvance":166,"page":0,"chnl":0,"letter":"ú"},"g-7":{"id":-7,"x":2698,"y":275,"width":129,"height":217,"xoffset":18,"yoffset":-8,"xadvance":166,"page":0,"chnl":0,"letter":"ù"},"g-20":{"id":-20,"x":2829,"y":275,"width":64,"height":217,"xoffset":-18,"yoffset":-11,"xadvance":65,"page":0,"chnl":0,"letter":"ì"},"g-5":{"id":-5,"x":2895,"y":275,"width":129,"height":217,"xoffset":18,"yoffset":-8,"xadvance":166,"page":0,"chnl":0,"letter":"û"},"g-18":{"id":-18,"x":3026,"y":275,"width":91,"height":217,"xoffset":-13,"yoffset":-11,"xadvance":65,"page":0,"chnl":0,"letter":"î"},"g81":{"id":81,"x":3119,"y":275,"width":156,"height":216,"xoffset":14,"yoffset":20,"xadvance":184,"page":0,"chnl":0,"letter":"Q"},"g-29":{"id":-29,"x":3277,"y":275,"width":137,"height":211,"xoffset":12,"yoffset":-2,"xadvance":166,"page":0,"chnl":0,"letter":"ã"},"g-11":{"id":-11,"x":3416,"y":275,"width":147,"height":211,"xoffset":12,"yoffset":-2,"xadvance":170,"page":0,"chnl":0,"letter":"õ"},"g64":{"id":64,"x":3565,"y":275,"width":186,"height":210,"xoffset":15,"yoffset":27,"xadvance":214,"page":0,"chnl":0,"letter":"@"},"g-21":{"id":-21,"x":3753,"y":275,"width":145,"height":208,"xoffset":12,"yoffset":1,"xadvance":168,"page":0,"chnl":0,"letter":"ë"},"g-10":{"id":-10,"x":3900,"y":275,"width":147,"height":208,"xoffset":12,"yoffset":1,"xadvance":170,"page":0,"chnl":0,"letter":"ö"},"g-28":{"id":-28,"x":2,"y":518,"width":137,"height":208,"xoffset":12,"yoffset":1,"xadvance":166,"page":0,"chnl":0,"letter":"ä"},"g-15":{"id":-15,"x":141,"y":518,"width":135,"height":207,"xoffset":19,"yoffset":-1,"xadvance":172,"page":0,"chnl":0,"letter":"ñ"},"g102":{"id":102,"x":278,"y":518,"width":91,"height":204,"xoffset":2,"yoffset":2,"xadvance":96,"page":0,"chnl":0,"letter":"f"},"g112":{"id":112,"x":371,"y":518,"width":144,"height":202,"xoffset":20,"yoffset":55,"xadvance":175,"page":0,"chnl":0,"letter":"p"},"g113":{"id":113,"x":517,"y":518,"width":144,"height":202,"xoffset":12,"yoffset":55,"xadvance":175,"page":0,"chnl":0,"letter":"q"},"g-4":{"id":-4,"x":663,"y":518,"width":129,"height":201,"xoffset":18,"yoffset":8,"xadvance":166,"page":0,"chnl":0,"letter":"ü"},"g105":{"id":105,"x":794,"y":518,"width":36,"height":201,"xoffset":15,"yoffset":5,"xadvance":65,"page":0,"chnl":0,"letter":"i"},"g121":{"id":121,"x":832,"y":518,"width":148,"height":200,"xoffset":4,"yoffset":59,"xadvance":154,"page":0,"chnl":0,"letter":"y"},"g98":{"id":98,"x":982,"y":518,"width":144,"height":200,"xoffset":20,"yoffset":9,"xadvance":175,"page":0,"chnl":0,"letter":"b"},"g-17":{"id":-17,"x":1128,"y":518,"width":82,"height":200,"xoffset":-8,"yoffset":5,"xadvance":65,"page":0,"chnl":0,"letter":"ï"},"g100":{"id":100,"x":1212,"y":518,"width":144,"height":200,"xoffset":12,"yoffset":9,"xadvance":175,"page":0,"chnl":0,"letter":"d"},"g108":{"id":108,"x":1358,"y":518,"width":25,"height":196,"xoffset":20,"yoffset":9,"xadvance":65,"page":0,"chnl":0,"letter":"l"},"g107":{"id":107,"x":1385,"y":518,"width":137,"height":196,"xoffset":20,"yoffset":9,"xadvance":159,"page":0,"chnl":0,"letter":"k"},"g104":{"id":104,"x":1524,"y":518,"width":133,"height":196,"xoffset":20,"yoffset":9,"xadvance":171,"page":0,"chnl":0,"letter":"h"},"g-8":{"id":-8,"x":1659,"y":518,"width":147,"height":192,"xoffset":12,"yoffset":37,"xadvance":170,"page":0,"chnl":0,"letter":"ø"},"g-87":{"id":-87,"x":1808,"y":518,"width":182,"height":191,"xoffset":13,"yoffset":19,"xadvance":207,"page":0,"chnl":0,"letter":"©"},"g79":{"id":79,"x":1992,"y":518,"width":157,"height":189,"xoffset":14,"yoffset":20,"xadvance":184,"page":0,"chnl":0,"letter":"O"},"g56":{"id":56,"x":2151,"y":518,"width":147,"height":189,"xoffset":10,"yoffset":20,"xadvance":168,"page":0,"chnl":0,"letter":"8"},"g57":{"id":57,"x":2300,"y":518,"width":147,"height":189,"xoffset":13,"yoffset":20,"xadvance":172,"page":0,"chnl":0,"letter":"9"},"g51":{"id":51,"x":2449,"y":518,"width":146,"height":189,"xoffset":10,"yoffset":20,"xadvance":168,"page":0,"chnl":0,"letter":"3"},"g38":{"id":38,"x":2597,"y":518,"width":191,"height":189,"xoffset":8,"yoffset":20,"xadvance":206,"page":0,"chnl":0,"letter":"&"},"g48":{"id":48,"x":2790,"y":518,"width":150,"height":189,"xoffset":14,"yoffset":20,"xadvance":178,"page":0,"chnl":0,"letter":"0"},"g54":{"id":54,"x":2942,"y":518,"width":147,"height":189,"xoffset":13,"yoffset":20,"xadvance":173,"page":0,"chnl":0,"letter":"6"},"g67":{"id":67,"x":3091,"y":518,"width":157,"height":189,"xoffset":14,"yoffset":20,"xadvance":181,"page":0,"chnl":0,"letter":"C"},"g71":{"id":71,"x":3250,"y":518,"width":154,"height":189,"xoffset":14,"yoffset":20,"xadvance":185,"page":0,"chnl":0,"letter":"G"},"g83":{"id":83,"x":3406,"y":518,"width":143,"height":189,"xoffset":8,"yoffset":20,"xadvance":161,"page":0,"chnl":0,"letter":"S"},"g37":{"id":37,"x":3551,"y":518,"width":170,"height":188,"xoffset":9,"yoffset":20,"xadvance":189,"page":0,"chnl":0,"letter":"%"},"g63":{"id":63,"x":3723,"y":518,"width":136,"height":188,"xoffset":19,"yoffset":20,"xadvance":174,"page":0,"chnl":0,"letter":"?"},"g-65":{"id":-65,"x":3861,"y":518,"width":136,"height":188,"xoffset":26,"yoffset":64,"xadvance":174,"page":0,"chnl":0,"letter":"¿"},"g33":{"id":33,"x":3999,"y":518,"width":37,"height":186,"xoffset":22,"yoffset":22,"xadvance":82,"page":0,"chnl":0,"letter":"!"},"g74":{"id":74,"x":2,"y":728,"width":123,"height":186,"xoffset":8,"yoffset":23,"xadvance":149,"page":0,"chnl":0,"letter":"J"},"g85":{"id":85,"x":127,"y":728,"width":141,"height":186,"xoffset":19,"yoffset":23,"xadvance":177,"page":0,"chnl":0,"letter":"U"},"g-95":{"id":-95,"x":270,"y":728,"width":37,"height":186,"xoffset":22,"yoffset":54,"xadvance":82,"page":0,"chnl":0,"letter":"¡"},"g53":{"id":53,"x":309,"y":728,"width":144,"height":186,"xoffset":14,"yoffset":23,"xadvance":170,"page":0,"chnl":0,"letter":"5"},"g116":{"id":116,"x":455,"y":728,"width":95,"height":185,"xoffset":2,"yoffset":20,"xadvance":105,"page":0,"chnl":0,"letter":"t"},"g50":{"id":50,"x":552,"y":728,"width":143,"height":185,"xoffset":11,"yoffset":20,"xadvance":163,"page":0,"chnl":0,"letter":"2"},"g87":{"id":87,"x":697,"y":728,"width":240,"height":183,"xoffset":7,"yoffset":23,"xadvance":253,"page":0,"chnl":0,"letter":"W"},"g86":{"id":86,"x":939,"y":728,"width":160,"height":183,"xoffset":6,"yoffset":23,"xadvance":170,"page":0,"chnl":0,"letter":"V"},"g88":{"id":88,"x":1101,"y":728,"width":162,"height":183,"xoffset":2,"yoffset":23,"xadvance":167,"page":0,"chnl":0,"letter":"X"},"g70":{"id":70,"x":1265,"y":728,"width":121,"height":183,"xoffset":21,"yoffset":23,"xadvance":151,"page":0,"chnl":0,"letter":"F"},"g69":{"id":69,"x":1388,"y":728,"width":129,"height":183,"xoffset":21,"yoffset":23,"xadvance":158,"page":0,"chnl":0,"letter":"E"},"g68":{"id":68,"x":1519,"y":728,"width":143,"height":183,"xoffset":21,"yoffset":23,"xadvance":177,"page":0,"chnl":0,"letter":"D"},"g90":{"id":90,"x":1664,"y":728,"width":137,"height":183,"xoffset":9,"yoffset":23,"xadvance":156,"page":0,"chnl":0,"letter":"Z"},"g72":{"id":72,"x":1803,"y":728,"width":142,"height":183,"xoffset":21,"yoffset":23,"xadvance":183,"page":0,"chnl":0,"letter":"H"},"g75":{"id":75,"x":1947,"y":728,"width":150,"height":183,"xoffset":21,"yoffset":23,"xadvance":172,"page":0,"chnl":0,"letter":"K"},"g76":{"id":76,"x":2099,"y":728,"width":119,"height":183,"xoffset":21,"yoffset":23,"xadvance":146,"page":0,"chnl":0,"letter":"L"},"g-58":{"id":-58,"x":2220,"y":728,"width":247,"height":183,"xoffset":0,"yoffset":23,"xadvance":255,"page":0,"chnl":0,"letter":"Æ"},"g77":{"id":77,"x":2469,"y":728,"width":168,"height":183,"xoffset":21,"yoffset":23,"xadvance":209,"page":0,"chnl":0,"letter":"M"},"g78":{"id":78,"x":2639,"y":728,"width":143,"height":183,"xoffset":21,"yoffset":23,"xadvance":185,"page":0,"chnl":0,"letter":"N"},"g84":{"id":84,"x":2784,"y":728,"width":135,"height":183,"xoffset":8,"yoffset":23,"xadvance":150,"page":0,"chnl":0,"letter":"T"},"g80":{"id":80,"x":2921,"y":728,"width":138,"height":183,"xoffset":21,"yoffset":23,"xadvance":169,"page":0,"chnl":0,"letter":"P"},"g82":{"id":82,"x":3061,"y":728,"width":138,"height":183,"xoffset":21,"yoffset":23,"xadvance":174,"page":0,"chnl":0,"letter":"R"},"g73":{"id":73,"x":3201,"y":728,"width":95,"height":183,"xoffset":12,"yoffset":23,"xadvance":117,"page":0,"chnl":0,"letter":"I"},"g65":{"id":65,"x":3298,"y":728,"width":165,"height":183,"xoffset":5,"yoffset":23,"xadvance":173,"page":0,"chnl":0,"letter":"A"},"g35":{"id":35,"x":3465,"y":728,"width":204,"height":183,"xoffset":11,"yoffset":23,"xadvance":226,"page":0,"chnl":0,"letter":"#"},"g52":{"id":52,"x":3671,"y":728,"width":155,"height":183,"xoffset":5,"yoffset":23,"xadvance":166,"page":0,"chnl":0,"letter":"4"},"g55":{"id":55,"x":3828,"y":728,"width":137,"height":183,"xoffset":6,"yoffset":23,"xadvance":146,"page":0,"chnl":0,"letter":"7"},"g66":{"id":66,"x":2,"y":916,"width":140,"height":183,"xoffset":21,"yoffset":23,"xadvance":170,"page":0,"chnl":0,"letter":"B"},"g89":{"id":89,"x":144,"y":916,"width":154,"height":183,"xoffset":5,"yoffset":23,"xadvance":163,"page":0,"chnl":0,"letter":"Y"},"g49":{"id":49,"x":300,"y":916,"width":103,"height":183,"xoffset":8,"yoffset":23,"xadvance":115,"page":0,"chnl":0,"letter":"1"},"g47":{"id":47,"x":405,"y":916,"width":81,"height":183,"xoffset":5,"yoffset":23,"xadvance":90,"page":0,"chnl":0,"letter":"/"},"g59":{"id":59,"x":488,"y":916,"width":38,"height":174,"xoffset":21,"yoffset":68,"xadvance":79,"page":0,"chnl":0,"letter":";"},"g-26":{"id":-26,"x":528,"y":916,"width":256,"height":155,"xoffset":12,"yoffset":55,"xadvance":280,"page":0,"chnl":0,"letter":"æ"},"g115":{"id":115,"x":786,"y":916,"width":132,"height":155,"xoffset":7,"yoffset":55,"xadvance":148,"page":0,"chnl":0,"letter":"s"},"g97":{"id":97,"x":920,"y":916,"width":137,"height":155,"xoffset":12,"yoffset":55,"xadvance":166,"page":0,"chnl":0,"letter":"a"},"g111":{"id":111,"x":1059,"y":916,"width":147,"height":155,"xoffset":12,"yoffset":55,"xadvance":170,"page":0,"chnl":0,"letter":"o"},"g99":{"id":99,"x":1208,"y":916,"width":144,"height":155,"xoffset":12,"yoffset":55,"xadvance":166,"page":0,"chnl":0,"letter":"c"},"g101":{"id":101,"x":1354,"y":916,"width":145,"height":155,"xoffset":12,"yoffset":55,"xadvance":168,"page":0,"chnl":0,"letter":"e"},"g109":{"id":109,"x":1501,"y":916,"width":225,"height":151,"xoffset":19,"yoffset":55,"xadvance":261,"page":0,"chnl":0,"letter":"m"},"g110":{"id":110,"x":1728,"y":916,"width":135,"height":151,"xoffset":19,"yoffset":55,"xadvance":172,"page":0,"chnl":0,"letter":"n"},"g117":{"id":117,"x":1865,"y":916,"width":129,"height":150,"xoffset":18,"yoffset":59,"xadvance":166,"page":0,"chnl":0,"letter":"u"},"g114":{"id":114,"x":1996,"y":916,"width":86,"height":148,"xoffset":19,"yoffset":58,"xadvance":110,"page":0,"chnl":0,"letter":"r"},"g118":{"id":118,"x":2084,"y":916,"width":145,"height":147,"xoffset":5,"yoffset":59,"xadvance":154,"page":0,"chnl":0,"letter":"v"},"g120":{"id":120,"x":2231,"y":916,"width":147,"height":147,"xoffset":5,"yoffset":59,"xadvance":157,"page":0,"chnl":0,"letter":"x"},"g119":{"id":119,"x":2380,"y":916,"width":217,"height":147,"xoffset":5,"yoffset":59,"xadvance":226,"page":0,"chnl":0,"letter":"w"},"g122":{"id":122,"x":2599,"y":916,"width":129,"height":147,"xoffset":8,"yoffset":59,"xadvance":145,"page":0,"chnl":0,"letter":"z"},"g58":{"id":58,"x":2730,"y":916,"width":37,"height":128,"xoffset":21,"yoffset":68,"xadvance":79,"page":0,"chnl":0,"letter":":"},"g62":{"id":62,"x":2769,"y":916,"width":107,"height":112,"xoffset":23,"yoffset":57,"xadvance":149,"page":0,"chnl":0,"letter":">"},"g60":{"id":60,"x":2878,"y":916,"width":107,"height":112,"xoffset":20,"yoffset":57,"xadvance":149,"page":0,"chnl":0,"letter":"<"},"g-41":{"id":-41,"x":2987,"y":916,"width":109,"height":109,"xoffset":16,"yoffset":58,"xadvance":142,"page":0,"chnl":0,"letter":"×"},"g-85":{"id":-85,"x":3098,"y":916,"width":130,"height":109,"xoffset":19,"yoffset":72,"xadvance":160,"page":0,"chnl":0,"letter":"«"},"g-69":{"id":-69,"x":3230,"y":916,"width":130,"height":109,"xoffset":13,"yoffset":72,"xadvance":160,"page":0,"chnl":0,"letter":"»"},"g43":{"id":43,"x":3362,"y":916,"width":111,"height":109,"xoffset":17,"yoffset":60,"xadvance":144,"page":0,"chnl":0,"letter":"+"},"g-70":{"id":-70,"x":3475,"y":916,"width":102,"height":108,"xoffset":10,"yoffset":19,"xadvance":122,"page":0,"chnl":0,"letter":"º"},"g-86":{"id":-86,"x":3579,"y":916,"width":96,"height":108,"xoffset":8,"yoffset":19,"xadvance":116,"page":0,"chnl":0,"letter":"ª"},"g-82":{"id":-82,"x":3677,"y":916,"width":99,"height":102,"xoffset":13,"yoffset":20,"xadvance":125,"page":0,"chnl":0,"letter":"®"},"g-71":{"id":-71,"x":3778,"y":916,"width":55,"height":92,"xoffset":6,"yoffset":23,"xadvance":65,"page":0,"chnl":0,"letter":"¹"},"g42":{"id":42,"x":3835,"y":916,"width":88,"height":90,"xoffset":14,"yoffset":13,"xadvance":115,"page":0,"chnl":0,"letter":"*"},"g94":{"id":94,"x":2,"y":1101,"width":96,"height":72,"xoffset":23,"yoffset":23,"xadvance":141,"page":0,"chnl":0,"letter":"^"},"g44":{"id":44,"x":100,"y":1101,"width":37,"height":69,"xoffset":20,"yoffset":173,"xadvance":77,"page":0,"chnl":0,"letter":","},"g39":{"id":39,"x":139,"y":1101,"width":24,"height":63,"xoffset":14,"yoffset":23,"xadvance":51,"page":0,"chnl":0,"letter":"'"},"g34":{"id":34,"x":165,"y":1101,"width":68,"height":63,"xoffset":14,"yoffset":23,"xadvance":94,"page":0,"chnl":0,"letter":"\""},"g-76":{"id":-76,"x":235,"y":1101,"width":64,"height":52,"xoffset":53,"yoffset":-14,"xadvance":141,"page":0,"chnl":0,"letter":"´"},"g96":{"id":96,"x":301,"y":1101,"width":63,"height":48,"xoffset":34,"yoffset":-11,"xadvance":141,"page":0,"chnl":0,"letter":"`"},"g126":{"id":126,"x":366,"y":1101,"width":105,"height":39,"xoffset":17,"yoffset":46,"xadvance":141,"page":0,"chnl":0,"letter":"~"},"g-73":{"id":-73,"x":473,"y":1101,"width":37,"height":38,"xoffset":20,"yoffset":107,"xadvance":77,"page":0,"chnl":0,"letter":"·"},"g46":{"id":46,"x":512,"y":1101,"width":37,"height":37,"xoffset":20,"yoffset":171,"xadvance":77,"page":0,"chnl":0,"letter":"."},"g-88":{"id":-88,"x":551,"y":1101,"width":82,"height":33,"xoffset":29,"yoffset":5,"xadvance":141,"page":0,"chnl":0,"letter":"¨"},"g95":{"id":95,"x":635,"y":1101,"width":146,"height":26,"xoffset":9,"yoffset":222,"xadvance":164,"page":0,"chnl":0,"letter":"_"},"g45":{"id":45,"x":783,"y":1101,"width":113,"height":25,"xoffset":16,"yoffset":113,"xadvance":144,"page":0,"chnl":0,"letter":"-"},"g-81":{"id":-81,"x":898,"y":1101,"width":79,"height":19,"xoffset":31,"yoffset":16,"xadvance":141,"page":0,"chnl":0,"letter":"¯"},"g32":{"id":32,"x":983,"y":1101,"width":0,"height":0,"xoffset":0,"yoffset":205,"xadvance":82,"page":0,"chnl":0,"letter":","},"g-83":{"id":-83,"x":981,"y":1101,"width":0,"height":0,"xoffset":16,"yoffset":113,"xadvance":144,"page":0,"chnl":0,"letter":"­"}}};

var Letters = function( string ){
	THREE.WebGLRenderTarget.apply(this, arguments);
	this.scene = new THREE.Scene();
	this.camera = new THREE.OrthographicCamera();

	this.fontSize = 13;
	this.stdWidth = Math.sin( 22.5 * Math.PI / 180 ) * 200 * 2;

	this.group = new THREE.Object3D();
	this.txtr = new THREE.TextureLoader().load( 'img/export/export.png' );
	this.scene.add( this.group );
}

Letters.prototype = Object.create(THREE.WebGLRenderTarget.prototype);
Letters.prototype.constructor = Letters;

Letters.prototype.resize = function( width, height ){
	var camView = { left :  width / -2, right : width / 2, top : this.fontSize / 2, bottom : this.fontSize / -2 };
	for ( var prop in camView) this.camera[ prop ] = camView[ prop ];
	this.camera.position.z = 1000;
	this.camera.updateProjectionMatrix( );
}

Letters.prototype.updateWord = function( string ){

	console.log(string)

	var string = string.split('');

	for( var i = this.group.children.length ; i >= 0 ; i-- ) this.group.remove( this.group.children[ i ] );

	var max = 0;
	for( var i = 0 ; i < string.length ; i++ ){
		var chr = string[ i ].charCodeAt( 0 );
		if( string[ i ].charCodeAt( 0 ) > 128 ) chr =  ( -256 + chr );
		console.log( string[ i ].charCodeAt( 0 ), chr );
		
		var ls = letters.glyphs[ 'g' + chr ];
		var scale = this.fontSize / letters.info.size; 
		var geometry = new THREE.PlaneBufferGeometry( ls.width * scale, ls.height * scale );
		var material = new THREE.ShaderMaterial({
			uniforms : {
				lookAt : { value : new THREE.Vector4( ls.x / 4096.0, ( 4096 - ( ls.y + ls.height ) ) / 4096.0, ls.width / 4096.0, ls.height / 4096.0 ) },
				tex : { value : this.txtr }
			},
			transparent : true,
			vertexShader: require('./letter.vs'),
			fragmentShader: require('./letter.fs')
		});
		max = Math.max( max, ls.height * scale );
		var plane = new THREE.Mesh( geometry, material );
		plane.position.x = ( i / ( string.length - 1 ) ) * this.stdWidth * 0.9;
		plane.position.y = ( letters.info.base * 2 - ls.height - ls.yoffset * 2 ) * scale / 2;
		this.group.add( plane );
	}

	this.group.position.set( -this.stdWidth / 2, -max / 2, 0 );

}

Letters.prototype.updateTrack = function( n ){
	if( n < 0 ) n *= 0.5;
	else n *= 2;
	var child = this.group.children;
	for( var i = 0 ; i < child.length ; i++ ){
		var l = child[ i ];
		var p = ( i / ( child.length - 1 ) ) * this.stdWidth * 0.9;
		var d = (this.stdWidth / child.length * i);
		l.position.x = p + d * n;
	}
	var dif = child[child.length-1].position.x - child[0].position.x;
	this.group.position.x = -dif / 2;
}

Letters.prototype.updateRotation = function( n ){
	for( var i = 0 ; i < this.group.children.length ; i++ ) this.group.children[ i ].rotation.z = Math.PI * 0.2 * n;
}

module.exports = Letters;